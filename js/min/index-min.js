var worldWidth=500,worldHeight=500,gameIsRunning=!1,world=document.querySelector("#world"),lastScore=0,highScore=0,timer=4e3,count=80,three="<img src='assets/img/3.png'>",two="<img src='assets/img/2.png'>",one="<img src='assets/img/1.png'>";document.querySelector(".startButton").addEventListener("click",function(){gameIsRunning||(console.log("START NEW GAME"),world.innerHTML="",gameIsRunning=!0,startGame(),timer=3e3)});var startGame=function(){setTimeout(function(){world.innerHTML=three},0),setTimeout(function(){world.innerHTML=two},1e3),setTimeout(function(){world.innerHTML=one},2e3),setTimeout(function(){world.innerHTML="";var e={player:new Player(0,0),enemy:new Enemy(worldWidth-15,worldHeight-15),point:new Point(worldWidth/2,worldHeight/2),world:new World(worldWidth,worldHeight)},o=new CanvasView(world,worldWidth,worldHeight),r=new Controller(e,o);r.initialize(),r.gameOver=function(){e.player.lives>0&&(self.chooseCorner=Math.floor(4*Math.random())+1,console.log(self.chooseCorner),1===self.chooseCorner?(e.enemy.x=0,e.enemy.y=0):2===self.chooseCorner?(e.enemy.x=worldWidth-15,e.enemy.y=0):3===self.chooseCorner?(e.enemy.x=worldWidth-15,e.enemy.y=worldHeight-15):4===self.chooseCorner&&(e.enemy.x=0,e.enemy.y=worldHeight-15),e.world.looseALife(),r.livesDisplay.innerHTML=e.player.lives,2===e.player.lives&&(r.livesDisplay.style.color="#FFBA00"),1===e.player.lives&&(r.livesDisplay.style.color="#FA6666")),0===e.player.lives&&(lastScore=e.player.score,r.lastScoreDisplay.innerHTML=lastScore,lastScore>highScore&&(highScore=lastScore),r.highScoreDisplay.innerHTML=highScore,console.log(lastScore),gameIsRunning=!1,o.destroy(),r.destroy(),e.world.destroy(),world.innerHTML="YOU GOT RECT!")}},3e3)};